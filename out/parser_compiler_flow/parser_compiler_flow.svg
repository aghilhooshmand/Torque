<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1249px" preserveAspectRatio="none" style="width:1018px;height:1249px;" version="1.1" viewBox="0 0 1018 1249" width="1018px" zoomAndPan="magnify"><defs><filter height="300%" id="flqe61fbknxdf" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="262" x="377.125" y="29.2419">Parser and Compiler Data Flow</text><ellipse cx="381.75" cy="44.5158" fill="#000000" filter="url(#flqe61fbknxdf)" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#flqe61fbknxdf)" height="52.6882" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="326" x="218.75" y="74.5158"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="58" x="228.75" y="97.3439">DSL String</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="306" x="228.75" y="113.6881">(e.g., "vote(LR(C=1.0), SVM(kernel='rbf'); voting='soft')")</text><rect fill="#FFFFFF" filter="url(#flqe61fbknxdf)" height="340.8163" style="stroke:#000000;stroke-width:2.0;" width="739.5" x="261.75" y="137.2041"/><path d="M366.75,137.2041 L366.75,149.272 L356.75,159.272 L261.75,159.272 " fill="none" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="95" x="264.75" y="153.17">Parsing Phase</text><rect fill="#FEFECE" filter="url(#flqe61fbknxdf)" height="36.3441" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="175" x="294.25" y="176.272"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="155" x="304.25" y="199.1001">DSLParser.parse(dsl_string)</text><rect fill="#FEFECE" filter="url(#flqe61fbknxdf)" height="36.3441" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="220" x="271.75" y="232.6161"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="200" x="281.75" y="255.4442">Tokenize and parse using pyparsing</text><path d="M492.25,278.9602 L492.25,368.4903 L472.25,372.4903 L492.25,376.4903 L492.25,466.0204 A0,0 0 0 0 492.25,466.0204 L991.25,466.0204 A0,0 0 0 0 991.25,466.0204 L991.25,288.9602 L981.25,278.9602 L492.25,278.9602 A0,0 0 0 0 492.25,278.9602 " fill="#FBFB77" filter="url(#flqe61fbknxdf)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M981.25,278.9602 L981.25,288.9602 L991.25,288.9602 L981.25,278.9602 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="498.25" y="297.8572">AST Structure:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="498.25" y="315.5633">{</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="510.25" y="333.2693">"type": "call",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="510.25" y="350.9753">"name": "vote",</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="42" x="510.25" y="368.6813">"pos": [</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="406" x="522.25" y="386.3873">{"type": "call", "name": "LR", "kw": {"C": {"type": "literal", "value": 1.0}}},</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="454" x="522.25" y="404.0933">{"type": "call", "name": "SVM", "kw": {"kernel": {"type": "literal", "value": "rbf"}}}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="7" x="510.25" y="421.7993">],</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="281" x="510.25" y="439.5054">"kw": {"voting": {"type": "literal", "value": "soft"}}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="5" x="498.25" y="457.2114">}</text><rect fill="#FEFECE" filter="url(#flqe61fbknxdf)" height="36.3441" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="181" x="291.25" y="354.3182"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="161" x="301.25" y="377.1463">Create dict-based AST nodes</text><rect fill="#FFFFFF" filter="url(#flqe61fbknxdf)" height="629.8208" style="stroke:#000000;stroke-width:2.0;" width="607" x="11" y="488.0204"/><path d="M146,488.0204 L146,500.0883 L136,510.0883 L11,510.0883 " fill="none" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125" x="14" y="503.9863">Compilation Phase</text><rect fill="#FEFECE" filter="url(#flqe61fbknxdf)" height="36.3441" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="219" x="272.25" y="527.0883"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="199" x="282.25" y="549.9164">compile_ast_to_estimator(ast_node)</text><polygon fill="#FEFECE" filter="url(#flqe61fbknxdf)" points="352.25,583.4324,411.25,583.4324,423.25,595.4324,411.25,607.4324,352.25,607.4324,340.25,595.4324,352.25,583.4324" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="59" x="352.25" y="599.7004">Node type?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="17" x="323.25" y="592.2094">call</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="30" x="423.25" y="592.2094">literal</text><polygon fill="#FEFECE" filter="url(#flqe61fbknxdf)" points="195.5,617.4324,260.5,617.4324,272.5,629.4324,260.5,641.4324,195.5,641.4324,183.5,629.4324,195.5,617.4324" style="stroke:#A80036;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="65" x="195.5" y="633.7004">Node name?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="141" x="42.5" y="626.2094">model: LR, SVM, RF, DT, NB</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="162" x="272.5" y="626.2094">ensemble: vote, stack, bag, ada</text><rect fill="#FEFECE" filter="url(#flqe61fbknxdf)" height="36.3441" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="187" x="24.5" y="651.4324"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="167" x="34.5" y="674.2605">build_model(name, kw_nodes)</text><rect fill="#FEFECE" filter="url(#flqe61fbknxdf)" height="36.3441" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="178" x="29" y="707.7765"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="158" x="39" y="730.6046">Lookup in MODEL_REGISTRY</text><rect fill="#FEFECE" filter="url(#flqe61fbknxdf)" height="36.3441" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="175" x="30.5" y="779.1206"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="155" x="40.5" y="801.9487">eval_value() for each kw arg</text><rect fill="#FEFECE" filter="url(#flqe61fbknxdf)" height="36.3441" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="175" x="30.5" y="850.4648"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="155" x="40.5" y="873.2928">safe_kwargs_for() validation</text><rect fill="#FEFECE" filter="url(#flqe61fbknxdf)" height="36.3441" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="158" x="39" y="921.8089"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="138" x="49" y="944.637">Apply special constraints</text><rect fill="#FEFECE" filter="url(#flqe61fbknxdf)" height="36.3441" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="190" x="23" y="993.153"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="170" x="33" y="1015.9811">Create sklearn model instance</text><rect fill="#FEFECE" filter="url(#flqe61fbknxdf)" height="36.3441" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="189" x="243.5" y="651.4324"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="169" x="253.5" y="674.2605">build_* (pos_nodes, kw_nodes)</text><rect fill="#FEFECE" filter="url(#flqe61fbknxdf)" height="52.6882" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="158" x="259" y="707.7765"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="138" x="269" y="730.6046">For each base estimator:</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="119" x="269" y="746.9487">:  Recursively compile</text><rect fill="#FEFECE" filter="url(#flqe61fbknxdf)" height="36.3441" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="198" x="239" y="795.4648"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="178" x="249" y="818.2928">Lookup in ENSEMBLE_REGISTRY</text><rect fill="#FEFECE" filter="url(#flqe61fbknxdf)" height="36.3441" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="149" x="263.5" y="866.8089"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="129" x="273.5" y="889.637">eval_value() for options</text><rect fill="#FEFECE" filter="url(#flqe61fbknxdf)" height="36.3441" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="175" x="250.5" y="938.153"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="155" x="260.5" y="960.9811">safe_kwargs_for() validation</text><rect fill="#FEFECE" filter="url(#flqe61fbknxdf)" height="36.3441" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="210" x="233" y="1009.4971"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="190" x="243" y="1032.3252">Create sklearn ensemble instance</text><polygon fill="#FEFECE" filter="url(#flqe61fbknxdf)" points="228,1051.8412,240,1063.8412,228,1075.8412,216,1063.8412,228,1051.8412" style="stroke:#A80036;stroke-width:1.5;"/><rect fill="#FEFECE" filter="url(#flqe61fbknxdf)" height="36.3441" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="125" x="473" y="617.4324"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="105" x="483" y="640.2605">Return literal value</text><polygon fill="#FEFECE" filter="url(#flqe61fbknxdf)" points="381.75,1081.8412,393.75,1093.8412,381.75,1105.8412,369.75,1093.8412,381.75,1081.8412" style="stroke:#A80036;stroke-width:1.5;"/><rect fill="#FEFECE" filter="url(#flqe61fbknxdf)" height="52.6882" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="146" x="308.75" y="1137.8412"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="98" x="318.75" y="1160.6693">sklearn Estimator</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="126" x="318.75" y="1177.0134">(unfitted, ready to use)</text><ellipse cx="381.75" cy="1221.5294" fill="#FFFFFF" filter="url(#flqe61fbknxdf)" rx="11" ry="11" style="stroke:#000000;stroke-width:1.0;"/><ellipse cx="381.75" cy="1221.5294" fill="#000000" rx="6" ry="6" style="stroke:#7F7F7F;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="381.75" x2="381.75" y1="54.5158" y2="74.5158"/><polygon fill="#A80036" points="377.75,64.5158,381.75,74.5158,385.75,64.5158,381.75,68.5158" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="381.75" x2="381.75" y1="212.6161" y2="232.6161"/><polygon fill="#A80036" points="377.75,222.6161,381.75,232.6161,385.75,222.6161,381.75,226.6161" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="381.75" x2="381.75" y1="268.9602" y2="354.3182"/><polygon fill="#A80036" points="377.75,344.3182,381.75,354.3182,385.75,344.3182,381.75,348.3182" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="381.75" x2="381.75" y1="127.2041" y2="176.272"/><polygon fill="#A80036" points="377.75,166.272,381.75,176.272,385.75,166.272,381.75,170.272" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="118" x2="118" y1="687.7765" y2="707.7765"/><polygon fill="#A80036" points="114,697.7765,118,707.7765,122,697.7765,118,701.7765" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="118" x2="118" y1="744.1206" y2="779.1206"/><polygon fill="#A80036" points="114,769.1206,118,779.1206,122,769.1206,118,773.1206" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="118" x2="118" y1="815.4648" y2="850.4648"/><polygon fill="#A80036" points="114,840.4648,118,850.4648,122,840.4648,118,844.4648" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="118" x2="118" y1="886.8089" y2="921.8089"/><polygon fill="#A80036" points="114,911.8089,118,921.8089,122,911.8089,118,915.8089" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="118" x2="118" y1="958.153" y2="993.153"/><polygon fill="#A80036" points="114,983.153,118,993.153,122,983.153,118,987.153" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="338" x2="338" y1="687.7765" y2="707.7765"/><polygon fill="#A80036" points="334,697.7765,338,707.7765,342,697.7765,338,701.7765" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="338" x2="338" y1="760.4648" y2="795.4648"/><polygon fill="#A80036" points="334,785.4648,338,795.4648,342,785.4648,338,789.4648" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="338" x2="338" y1="831.8089" y2="866.8089"/><polygon fill="#A80036" points="334,856.8089,338,866.8089,342,856.8089,338,860.8089" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="338" x2="338" y1="903.153" y2="938.153"/><polygon fill="#A80036" points="334,928.153,338,938.153,342,928.153,338,932.153" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="338" x2="338" y1="974.4971" y2="1009.4971"/><polygon fill="#A80036" points="334,999.4971,338,1009.4971,342,999.4971,338,1003.4971" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="183.5" x2="118" y1="629.4324" y2="629.4324"/><line style="stroke:#A80036;stroke-width:1.5;" x1="118" x2="118" y1="629.4324" y2="651.4324"/><polygon fill="#A80036" points="114,641.4324,118,651.4324,122,641.4324,118,645.4324" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="272.5" x2="338" y1="629.4324" y2="629.4324"/><line style="stroke:#A80036;stroke-width:1.5;" x1="338" x2="338" y1="629.4324" y2="651.4324"/><polygon fill="#A80036" points="334,641.4324,338,651.4324,342,641.4324,338,645.4324" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="118" x2="118" y1="1029.4971" y2="1063.8412"/><line style="stroke:#A80036;stroke-width:1.5;" x1="118" x2="216" y1="1063.8412" y2="1063.8412"/><polygon fill="#A80036" points="206,1059.8412,216,1063.8412,206,1067.8412,210,1063.8412" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="338" x2="338" y1="1045.8412" y2="1063.8412"/><line style="stroke:#A80036;stroke-width:1.5;" x1="338" x2="240" y1="1063.8412" y2="1063.8412"/><polygon fill="#A80036" points="250,1059.8412,240,1063.8412,250,1067.8412,246,1063.8412" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="340.25" x2="228" y1="595.4324" y2="595.4324"/><line style="stroke:#A80036;stroke-width:1.5;" x1="228" x2="228" y1="595.4324" y2="617.4324"/><polygon fill="#A80036" points="224,607.4324,228,617.4324,232,607.4324,228,611.4324" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="423.25" x2="535.5" y1="595.4324" y2="595.4324"/><line style="stroke:#A80036;stroke-width:1.5;" x1="535.5" x2="535.5" y1="595.4324" y2="617.4324"/><polygon fill="#A80036" points="531.5,607.4324,535.5,617.4324,539.5,607.4324,535.5,611.4324" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="228" x2="228" y1="1075.8412" y2="1093.8412"/><line style="stroke:#A80036;stroke-width:1.5;" x1="228" x2="369.75" y1="1093.8412" y2="1093.8412"/><polygon fill="#A80036" points="359.75,1089.8412,369.75,1093.8412,359.75,1097.8412,363.75,1093.8412" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="535.5" x2="535.5" y1="653.7765" y2="1093.8412"/><line style="stroke:#A80036;stroke-width:1.5;" x1="535.5" x2="393.75" y1="1093.8412" y2="1093.8412"/><polygon fill="#A80036" points="403.75,1089.8412,393.75,1093.8412,403.75,1097.8412,399.75,1093.8412" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="381.75" x2="381.75" y1="563.4324" y2="583.4324"/><polygon fill="#A80036" points="377.75,573.4324,381.75,583.4324,385.75,573.4324,381.75,577.4324" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="381.75" x2="381.75" y1="390.6624" y2="527.0883"/><polygon fill="#A80036" points="377.75,517.0883,381.75,527.0883,385.75,517.0883,381.75,521.0883" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="381.75" x2="381.75" y1="1105.8412" y2="1137.8412"/><polygon fill="#A80036" points="377.75,1127.8412,381.75,1137.8412,385.75,1127.8412,381.75,1131.8412" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.5;" x1="381.75" x2="381.75" y1="1190.5294" y2="1210.5294"/><polygon fill="#A80036" points="377.75,1200.5294,381.75,1210.5294,385.75,1200.5294,381.75,1204.5294" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[ad78f38b47979bc2c290f3788cd8f167]
@startuml
title Parser and Compiler Data Flow

start

:DSL String\n(e.g., "vote(LR(C=1.0), SVM(kernel='rbf'); voting='soft')");

partition "Parsing Phase" {
    :DSLParser.parse(dsl_string);
    :Tokenize and parse using pyparsing;
    :Create dict-based AST nodes;
    
    note right
        AST Structure:
        {
            "type": "call",
            "name": "vote",
            "pos": [
                {"type": "call", "name": "LR", "kw": {"C": {"type": "literal", "value": 1.0}}},
                {"type": "call", "name": "SVM", "kw": {"kernel": {"type": "literal", "value": "rbf"}}}
            ],
            "kw": {"voting": {"type": "literal", "value": "soft"}}
        }
    end note
}

partition "Compilation Phase" {
    :compile_ast_to_estimator(ast_node);
    
    if (Node type?) then (call)
        if (Node name?) then (model: LR, SVM, RF, DT, NB)
            :build_model(name, kw_nodes);
            :Lookup in MODEL_REGISTRY;
            :eval_value() for each kw arg;
            :safe_kwargs_for() validation;
            :Apply special constraints;
            :Create sklearn model instance;
        else (ensemble: vote, stack, bag, ada)
            :build_* (pos_nodes, kw_nodes);
            :For each base estimator:
            :  Recursively compile;
            :Lookup in ENSEMBLE_REGISTRY;
            :eval_value() for options;
            :safe_kwargs_for() validation;
            :Create sklearn ensemble instance;
        endif
    else (literal)
        :Return literal value;
    endif
}

:sklearn Estimator\n(unfitted, ready to use);

stop

@enduml

PlantUML version 1.2021.00(Sun Jan 10 10:25:05 GMT 2021)
(MIT source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>