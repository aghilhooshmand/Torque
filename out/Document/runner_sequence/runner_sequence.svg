<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="851px" preserveAspectRatio="none" style="width:951px;height:851px;" version="1.1" viewBox="0 0 951 851" width="951px" zoomAndPan="magnify"><defs><filter height="300%" id="f9kp48u524kkv" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="443" x="251.75" y="31.2419">Runner sequence - User runs Torque DSL on dataset</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="23" x2="23" y1="129.5838" y2="764.8221"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="160.5" x2="160.5" y1="129.5838" y2="764.8221"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="275.5" x2="275.5" y1="129.5838" y2="764.8221"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="535.5" x2="535.5" y1="129.5838" y2="764.8221"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="683.5" x2="683.5" y1="129.5838" y2="764.8221"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="868.5" x2="868.5" y1="129.5838" y2="764.8221"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="5" y="125.4818">User</text><ellipse cx="23.5" cy="53.5158" fill="#FEFECE" filter="url(#f9kp48u524kkv)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M23.5,61.5158 L23.5,88.5158 M10.5,69.5158 L36.5,69.5158 M23.5,88.5158 L10.5,103.5158 M23.5,88.5158 L36.5,103.5158 " fill="none" filter="url(#f9kp48u524kkv)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31" x="5" y="778.7881">User</text><ellipse cx="23.5" cy="792.8901" fill="#FEFECE" filter="url(#f9kp48u524kkv)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M23.5,800.8901 L23.5,827.8901 M10.5,808.8901 L36.5,808.8901 M23.5,827.8901 L10.5,842.8901 M23.5,827.8901 L36.5,842.8901 " fill="none" filter="url(#f9kp48u524kkv)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f9kp48u524kkv)" height="52.1358" style="stroke:#A80036;stroke-width:1.5;" width="102" x="107.5" y="72.4479"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="131" y="94.4139">Browser</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="114.5" y="113.4818">(Streamlit UI)</text><rect fill="#FEFECE" filter="url(#f9kp48u524kkv)" height="52.1358" style="stroke:#A80036;stroke-width:1.5;" width="102" x="107.5" y="763.8221"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="131" y="785.7881">Browser</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="88" x="114.5" y="804.856">(Streamlit UI)</text><rect fill="#FEFECE" filter="url(#f9kp48u524kkv)" height="52.1358" style="stroke:#A80036;stroke-width:1.5;" width="101" x="223.5" y="72.4479"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87" x="230.5" y="94.4139">Runner Page</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59" x="244.5" y="113.4818">2_test.py</text><rect fill="#FEFECE" filter="url(#f9kp48u524kkv)" height="52.1358" style="stroke:#A80036;stroke-width:1.5;" width="101" x="223.5" y="763.8221"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87" x="230.5" y="785.7881">Runner Page</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59" x="244.5" y="804.856">2_test.py</text><rect fill="#FEFECE" filter="url(#f9kp48u524kkv)" height="52.1358" style="stroke:#A80036;stroke-width:1.5;" width="133" x="467.5" y="72.4479"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="483.5" y="94.4139">Dataset Loader</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="474.5" y="113.4818">dataset_loader.py</text><rect fill="#FEFECE" filter="url(#f9kp48u524kkv)" height="52.1358" style="stroke:#A80036;stroke-width:1.5;" width="133" x="467.5" y="763.8221"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="483.5" y="785.7881">Dataset Loader</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="119" x="474.5" y="804.856">dataset_loader.py</text><rect fill="#FEFECE" filter="url(#f9kp48u524kkv)" height="52.1358" style="stroke:#A80036;stroke-width:1.5;" width="135" x="614.5" y="72.4479"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="633" y="94.4139">TorqueRunner</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121" x="621.5" y="113.4818">Torque_runner.py</text><rect fill="#FEFECE" filter="url(#f9kp48u524kkv)" height="52.1358" style="stroke:#A80036;stroke-width:1.5;" width="135" x="614.5" y="763.8221"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="98" x="633" y="785.7881">TorqueRunner</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121" x="621.5" y="804.856">Torque_runner.py</text><rect fill="#FEFECE" filter="url(#f9kp48u524kkv)" height="52.1358" style="stroke:#A80036;stroke-width:1.5;" width="141" x="796.5" y="72.4479"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="816.5" y="94.4139">TorqueMapper</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127" x="803.5" y="113.4818">Torque_mapper.py</text><rect fill="#FEFECE" filter="url(#f9kp48u524kkv)" height="52.1358" style="stroke:#A80036;stroke-width:1.5;" width="141" x="796.5" y="763.8221"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="816.5" y="785.7881">TorqueMapper</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127" x="803.5" y="804.856">Torque_mapper.py</text><polygon fill="#A80036" points="148.5,159.2898,158.5,163.2898,148.5,167.2898,152.5,163.2898" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="23.5" x2="154.5" y1="163.2898" y2="163.2898"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="113" x="30.5" y="157.4808">Open Runner page</text><polygon fill="#A80036" points="264,190.9958,274,194.9958,264,198.9958,268,194.9958" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="160.5" x2="270" y1="194.9958" y2="194.9958"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="48" x="167.5" y="189.1868">render()</text><polygon fill="#A80036" points="264,240.4078,274,244.4078,264,248.4078,268,244.4078" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="23.5" x2="270" y1="244.4078" y2="244.4078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126" x="30.5" y="220.8928">Select dataset source</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129" x="30.5" y="238.5988">(Upload / UCI / Mock)</text><polygon fill="#A80036" points="524,307.5259,534,311.5259,524,315.5259,528,311.5259" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="276" x2="530" y1="311.5259" y2="311.5259"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="163" x="283" y="270.3048">load_dataset_from_config /</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="236" x="283" y="288.0109">fetch_uci_data / build_X_y_from_frames</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167" x="283" y="305.7169">+ sample_stratified_by_class</text><polygon fill="#A80036" points="287,339.2319,277,343.2319,287,347.2319,283,343.2319" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="281" x2="535" y1="343.2319" y2="343.2319"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="293" y="337.4229">X, y, dataset preview</text><polygon fill="#A80036" points="264,388.6439,274,392.6439,264,396.6439,268,392.6439" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="23.5" x2="270" y1="392.6439" y2="392.6439"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104" x="30.5" y="369.1289">Enter Torque DSL</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124" x="30.5" y="386.8349">and click \"Run DSL\"</text><polygon fill="#A80036" points="672,438.056,682,442.056,672,446.056,676,442.056" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="276" x2="678" y1="442.056" y2="442.056"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95" x="283" y="418.5409">run_dsl(dsl, X, y,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212" x="286" y="436.247">mapped_json_file, metrics_json_file)</text><polygon fill="#A80036" points="857,487.468,867,491.468,857,495.468,861,491.468" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="684" x2="863" y1="491.468" y2="491.468"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="115" x="691" y="467.953">export_to_json(dsl)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161" x="691" y="485.659">(DSL → AST → Python code)</text><polygon fill="#A80036" points="695,519.174,685,523.174,695,527.174,691,523.174" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="689" x2="868" y1="523.174" y2="523.174"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="701" y="517.365">mapping JSON file</text><line style="stroke:#A80036;stroke-width:1.0;" x1="684" x2="726" y1="572.586" y2="572.586"/><line style="stroke:#A80036;stroke-width:1.0;" x1="726" x2="726" y1="572.586" y2="585.586"/><line style="stroke:#A80036;stroke-width:1.0;" x1="685" x2="726" y1="585.586" y2="585.586"/><polygon fill="#A80036" points="695,581.586,685,585.586,695,589.586,691,585.586" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126" x="691" y="549.071">execute Python code</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="691" y="566.777">create sklearn estimator</text><line style="stroke:#A80036;stroke-width:1.0;" x1="684" x2="726" y1="634.9981" y2="634.9981"/><line style="stroke:#A80036;stroke-width:1.0;" x1="726" x2="726" y1="634.9981" y2="647.9981"/><line style="stroke:#A80036;stroke-width:1.0;" x1="685" x2="726" y1="647.9981" y2="647.9981"/><polygon fill="#A80036" points="695,643.9981,685,647.9981,695,651.9981,691,647.9981" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="691" y="611.4831">train / test split,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="167" x="691" y="629.1891">fit, predict, compute metrics</text><polygon fill="#A80036" points="287,693.4101,277,697.4101,287,701.4101,283,697.4101" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="281" x2="683" y1="697.4101" y2="697.4101"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="293" y="673.8951">results dict</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="209" x="293" y="691.6011">(metrics, confusion matrix, reports)</text><polygon fill="#A80036" points="34.5,742.8221,24.5,746.8221,34.5,750.8221,30.5,746.8221" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="28.5" x2="275" y1="746.8221" y2="746.8221"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="40.5" y="723.3071">Show metrics,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="40.5" y="741.0131">confusion matrix, reports</text><!--MD5=[c9c45acdcc83f5c9ed8bb7aa6dcc0bbc]
@startuml
title Runner sequence - User runs Torque DSL on dataset

actor User
participant "Browser\n(Streamlit UI)" as Browser
participant "Runner Page\n2_test.py" as RunnerUI
participant "Dataset Loader\ndataset_loader.py" as Loader
participant "TorqueRunner\nTorque_runner.py" as TR
participant "TorqueMapper\nTorque_mapper.py" as TM

User -> Browser: Open Runner page
Browser -> RunnerUI: render()

User -> RunnerUI: Select dataset source\n(Upload / UCI / Mock)
RunnerUI -> Loader: load_dataset_from_config /\nfetch_uci_data / build_X_y_from_frames\n+ sample_stratified_by_class
Loader - -> RunnerUI: X, y, dataset preview

User -> RunnerUI: Enter Torque DSL\nand click \"Run DSL\"
RunnerUI -> TR: run_dsl(dsl, X, y,\n mapped_json_file, metrics_json_file)
TR -> TM: export_to_json(dsl)\n(DSL → AST → Python code)
TM - -> TR: mapping JSON file
TR -> TR: execute Python code\ncreate sklearn estimator
TR -> TR: train / test split,\nfit, predict, compute metrics
TR - -> RunnerUI: results dict\n(metrics, confusion matrix, reports)

RunnerUI - -> User: Show metrics,\nconfusion matrix, reports

@enduml

PlantUML version 1.2021.00(Sun Jan 10 10:25:05 GMT 2021)
(MIT source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>