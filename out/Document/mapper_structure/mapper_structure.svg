<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="689px" preserveAspectRatio="none" style="width:689px;height:689px;" version="1.1" viewBox="0 0 689 689" width="689px" zoomAndPan="magnify"><defs><filter height="300%" id="fr1jzezp3tysj" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="319" x="178.5" y="19.2419">Mapper structure - main components</text><!--MD5=[9681dc6e01e10c6b4fe06895ae94f592]
cluster UI--><polygon fill="#FFFFFF" filter="url(#fr1jzezp3tysj)" points="119,31.1178,141,31.1178,148,56.1857,281,56.1857,281,153.1178,119,153.1178,119,31.1178" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="119" x2="148" y1="56.1857" y2="56.1857"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="16" x="123" y="48.0838">UI</text><!--MD5=[da9aecba9d0d962678cd087fe99a44d3]
cluster Core DSL--><polygon fill="#FFFFFF" filter="url(#fr1jzezp3tysj)" points="16,222.1178,84,222.1178,91,247.1857,346,247.1857,346,533.1178,16,533.1178,16,222.1178" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="16" x2="91" y1="247.1857" y2="247.1857"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="62" x="20" y="239.0838">Core DSL</text><!--MD5=[a1fe7363db7b0ab934a7630e0aacd9fc]
cluster Grammar--><polygon fill="#FFFFFF" filter="url(#fr1jzezp3tysj)" points="370,411.1178,442,411.1178,449,436.1857,672,436.1857,672,682.1178,370,682.1178,370,411.1178" style="stroke:#000000;stroke-width:1.5;"/><line style="stroke:#000000;stroke-width:1.5;" x1="370" x2="449" y1="436.1857" y2="436.1857"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="66" x="374" y="428.0838">Grammar</text><!--MD5=[3058c7db85c12fcc63ae21611ef884f0]
entity MapperUI--><rect fill="#FEFECE" filter="url(#fr1jzezp3tysj)" height="68.1358" style="stroke:#A80036;stroke-width:1.5;" width="130" x="135" y="69.1178"/><rect fill="#FEFECE" height="10" style="stroke:#A80036;stroke-width:1.5;" width="15" x="245" y="74.1178"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="243" y="76.1178"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="243" y="80.1178"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90" x="150" y="104.0838">Mapper Page</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87" x="150" y="123.1517">0_mapper.py</text><!--MD5=[b00add770d1aa213614d7c8f56882f49]
entity TorqueMapperComp--><rect fill="#FEFECE" filter="url(#fr1jzezp3tysj)" height="68.1358" style="stroke:#A80036;stroke-width:1.5;" width="167" x="116.5" y="260.1178"/><rect fill="#FEFECE" height="10" style="stroke:#A80036;stroke-width:1.5;" width="15" x="263.5" y="265.1178"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="261.5" y="267.1178"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="261.5" y="271.1178"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="131.5" y="295.0838">TorqueMapper</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127" x="131.5" y="314.1517">Torque_mapper.py</text><!--MD5=[c01552aeb07e95759ece564214fd0bdc]
entity Compiler--><rect fill="#FEFECE" filter="url(#fr1jzezp3tysj)" height="68.1358" style="stroke:#A80036;stroke-width:1.5;" width="119" x="32.5" y="449.1178"/><rect fill="#FEFECE" height="10" style="stroke:#A80036;stroke-width:1.5;" width="15" x="131.5" y="454.1178"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="129.5" y="456.1178"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="129.5" y="460.1178"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="47.5" y="484.0838">Compiler</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="47.5" y="503.1517">compiler.py</text><!--MD5=[4deb7753515de286d568fa33f0a2fe6f]
entity Registry--><rect fill="#FEFECE" filter="url(#fr1jzezp3tysj)" height="68.1358" style="stroke:#A80036;stroke-width:1.5;" width="112" x="187" y="449.1178"/><rect fill="#FEFECE" height="10" style="stroke:#A80036;stroke-width:1.5;" width="15" x="279" y="454.1178"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="277" y="456.1178"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="277" y="460.1178"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="55" x="202" y="484.0838">Registry</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="202" y="503.1517">registry.py</text><!--MD5=[4e46ea923f25faeca3157dc85fae6288]
entity GrammarLoader--><rect fill="#FEFECE" filter="url(#fr1jzezp3tysj)" height="68.1358" style="stroke:#A80036;stroke-width:1.5;" width="154" x="415" y="449.1178"/><rect fill="#FEFECE" height="10" style="stroke:#A80036;stroke-width:1.5;" width="15" x="549" y="454.1178"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="547" y="456.1178"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="547" y="460.1178"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114" x="430" y="484.0838">Grammar Loader</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="430" y="503.1517">grammar.py</text><!--MD5=[7642f318d6d2a8288c8b08f01eada685]
entity GrammarFile--><rect fill="#FEFECE" filter="url(#fr1jzezp3tysj)" height="68.1358" style="stroke:#A80036;stroke-width:1.5;" width="270" x="386" y="598.1178"/><rect fill="#FEFECE" height="10" style="stroke:#A80036;stroke-width:1.5;" width="15" x="636" y="603.1178"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="634" y="605.1178"/><rect fill="#FEFECE" height="2" style="stroke:#A80036;stroke-width:1.5;" width="4" x="634" y="609.1178"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54" x="401" y="633.0838">BNF File</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="230" x="401" y="652.1517">grammar/ensamble_grammar.bnf</text><!--MD5=[d53544624bdaf0f568f68cd60afa3180]
link MapperUI to TorqueMapperComp--><path d="M200,137.4678 C200,170.2678 200,220.2778 200,254.7078 " fill="none" id="MapperUI-to-TorqueMapperComp" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="200,260.0978,204,251.0978,200,255.0978,196,251.0978,200,260.0978" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53" x="259.5" y="184.0148">map DSL</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="201" y="201.7209">(dsl_to_ast, map_to_python)</text><!--MD5=[bd9712431875f8af2b68907f2bc9cc96]
link TorqueMapperComp to Registry--><path d="M207.59,328.1178 C215.03,360.4978 226.38,409.8378 234.21,443.9078 " fill="none" id="TorqueMapperComp-to-Registry" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="235.34,448.8178,237.2055,439.1473,234.2115,443.9468,229.412,440.9528,235.34,448.8178" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="234" y="373.0148">MODEL_REGISTRY</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="128" x="224" y="390.7209">ENSEMBLE_REGISTRY</text><!--MD5=[41b991e5d69077d79cb96d366e179b14]
link TorqueMapperComp to Compiler--><path d="M142.68,328.2378 C132.07,336.7378 122.1,346.7478 115,358.1178 C98.96,383.7978 93.54,417.9178 91.94,443.8578 " fill="none" id="TorqueMapperComp-to-Compiler" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="91.67,448.9378,96.152,440.1679,91.941,443.9452,88.1637,439.7342,91.67,448.9378" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="116" y="373.0148">compile nested</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="66" x="128.5" y="390.7209">model calls</text><!--MD5=[8e942d0077a46428148c2b41e93ed670]
link TorqueMapperComp to GrammarLoader--><path d="M283.61,320.8678 C309.44,330.6278 337.3,343.0778 361,358.1178 C398.8,382.1078 435.24,417.9778 460.05,444.9778 " fill="none" id="TorqueMapperComp-to-GrammarLoader" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="463.62,448.8878,460.4969,439.5472,460.2453,445.1985,454.594,444.9468,463.62,448.8878" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125" x="409" y="382.0148">load GRAMMAR_BNF</text><!--MD5=[66bc3ffa447e74f73a9b25e50d81d95e]
link GrammarLoader to GrammarFile--><path d="M498.58,517.4778 C502.99,539.8378 508.82,569.3578 513.42,592.7078 " fill="none" id="GrammarLoader-to-GrammarFile" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="514.45,597.8978,516.6234,588.2918,513.4777,592.9933,508.7762,589.8475,514.45,597.8978" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="509" y="564.0148">read/write BNF</text><!--MD5=[47612eb9bc15374a95b025ab51ac2656]
@startuml
title Mapper structure - main components

package "UI" {
  [Mapper Page\n0_mapper.py] as MapperUI
}

package "Core DSL" {
  [TorqueMapper\nTorque_mapper.py] as TorqueMapperComp
  [Compiler\ncompiler.py] as Compiler
  [Registry\nregistry.py] as Registry
}

package "Grammar" {
  [Grammar Loader\ngrammar.py] as GrammarLoader
  [BNF File\ngrammar/ensamble_grammar.bnf] as GrammarFile
}

MapperUI - -> TorqueMapperComp : map DSL\n(dsl_to_ast, map_to_python)
TorqueMapperComp - -> Registry : MODEL_REGISTRY\nENSEMBLE_REGISTRY
TorqueMapperComp - -> Compiler : compile nested\nmodel calls
TorqueMapperComp - -> GrammarLoader : load GRAMMAR_BNF
GrammarLoader - -> GrammarFile : read/write BNF

@enduml

PlantUML version 1.2021.00(Sun Jan 10 10:25:05 GMT 2021)
(MIT source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>